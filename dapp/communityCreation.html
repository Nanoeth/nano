<script type="text/javascript" src="util.js">
<script type="text/javascript">

function deployCommunity () {
    var result = document.getElementById('result')
    result.innerHtml = 'Deploying community ...'
    var link = document.getElementById('link')
    link.style.display = 'none'
    link.innerHTML = ''
 var community_sol_community = community_sol_communityContract.new(
   {
     from: web3.eth.accounts[0], 
     data: '0x6060604052341561000c57fe5b5b610015610071565b809050604051809103906000f080151561002b57fe5b600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b610081565b6040516102b5806117d583390190565b611745806100906000396000f30060606040523615610097576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680631d64760514610099578063385d9d80146100bd578063498a6eab1461013357806349f4b9a51461016f57806351b74f99146101d35780635474248d146102375780638137c7aa1461027157806389b08f1114610283578063c3f909d4146102f9575bfe5b34156100a157fe5b6100bb60048080356000191690602001909190505061034b565b005b34156100c557fe5b6100f1600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061062a565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561013b57fe5b6101516004808035906020019091905050610694565b60405180826000191660001916815260200191505060405180910390f35b341561017757fe5b6101916004808035600019169060200190919050506106b9565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156101db57fe5b6101f560048080356000191690602001909190505061075e565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561023f57fe5b61026f60048080356000191690602001909190803560001916906020019091908035906020019091905050610791565b005b341561027957fe5b610281610f3c565b005b341561028b57fe5b6102b7600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611218565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561030157fe5b61030961124b565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b7ff616b7b7499a4605cc97dc9b7a0fd5cf3df886e0068da2e4d2a127855e7c7bd16040518080602001828103825260138152602001807f77616c6c6574206372656174696f6e202e2e2e0000000000000000000000000081525060200191505060405180910390a133306103bd611276565b808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050604051809103906000f080151561043957fe5b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507ff616b7b7499a4605cc97dc9b7a0fd5cf3df886e0068da2e4d2a127855e7c7bd160405180806020018281038252600e8152602001807f77616c6c6574206372656174656400000000000000000000000000000000000081525060200191505060405180910390a13360026000836000191660001916815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060016003805490500160038161058e9190611286565b508060036001600380549050038154811015156105a757fe5b906000526020600020900160005b5081600019169055507ff616b7b7499a4605cc97dc9b7a0fd5cf3df886e0068da2e4d2a127855e7c7bd16040518080602001828103825260108152602001807f656e642063726561746557616c6c65740000000000000000000000000000000081525060200191505060405180910390a15b50565b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690505b919050565b6003818154811015156106a357fe5b906000526020600020900160005b915090505481565b60006001600060026000856000191660001916815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690505b919050565b60026020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600060006000600060006000600087131515610814577ff616b7b7499a4605cc97dc9b7a0fd5cf3df886e0068da2e4d2a127855e7c7bd16040518080602001828103825260148152602001807f6e6f2076616c7565206f72206e6567617469766500000000000000000000000081525060200191505060405180910390a1610f31565b61081d886106b9565b9550600073ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff1614156108c1577ff616b7b7499a4605cc97dc9b7a0fd5cf3df886e0068da2e4d2a127855e7c7bd16040518080602001828103825260108152602001807f73656e646572206e6f7420666f756e640000000000000000000000000000000081525060200191505060405180910390a1610f31565b6108ca896106b9565b9450600073ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff16141561096e577ff616b7b7499a4605cc97dc9b7a0fd5cf3df886e0068da2e4d2a127855e7c7bd16040518080602001828103825260128152602001807f7265636569766572206e6f7420666f756e64000000000000000000000000000081525060200191505060405180910390a1610f31565b8473ffffffffffffffffffffffffffffffffffffffff1663209652556000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b15156109da57fe5b60325a03f115156109e757fe5b5050506040518051905093508573ffffffffffffffffffffffffffffffffffffffff1663209652556000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515610a5f57fe5b60325a03f11515610a6c57fe5b50505060405180519050925083871315610aed577ff616b7b7499a4605cc97dc9b7a0fd5cf3df886e0068da2e4d2a127855e7c7bd16040518080602001828103825260128152602001807f6e6f7420656e6f7567682062616c616e6365000000000000000000000000000081525060200191505060405180910390a1610f31565b8473ffffffffffffffffffffffffffffffffffffffff16635093dc7d8886036040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b1515610b5a57fe5b60325a03f11515610b6757fe5b5050508573ffffffffffffffffffffffffffffffffffffffff16635093dc7d8885016040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b1515610bd757fe5b60325a03f11515610be457fe5b5050508573ffffffffffffffffffffffffffffffffffffffff16639a157fd16000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515610c5357fe5b60325a03f11515610c6057fe5b505050604051805190509150600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635fc0c1e56000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515610cfa57fe5b60325a03f11515610d0757fe5b50505060405180519050824303121515610d9b578573ffffffffffffffffffffffffffffffffffffffff16637902e804436040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b1515610d8657fe5b60325a03f11515610d9357fe5b505050610ec8565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166386cd1270886000604051602001526040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b1515610e3157fe5b60325a03f11515610e3e57fe5b5050506040518051905090508573ffffffffffffffffffffffffffffffffffffffff16637902e8048284016040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b1515610eb757fe5b60325a03f11515610ec457fe5b5050505b7ff616b7b7499a4605cc97dc9b7a0fd5cf3df886e0068da2e4d2a127855e7c7bd16040518080602001828103825260078152602001807f73656e64206f6b0000000000000000000000000000000000000000000000000081525060200191505060405180910390a15b505050505050505050565b6000610f473361062a565b9050600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635fc0c1e56000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b1515610fd757fe5b60325a03f11515610fe457fe5b505050604051805190508173ffffffffffffffffffffffffffffffffffffffff16637a24388a6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b151561105a57fe5b60325a03f1151561106757fe5b5050506040518051905043031315611214578073ffffffffffffffffffffffffffffffffffffffff16635093dc7d600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166314d2de886000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b151561112357fe5b60325a03f1151561113057fe5b505050604051805190506040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b151561118857fe5b60325a03f1151561119557fe5b5050508073ffffffffffffffffffffffffffffffffffffffff16637902e804436040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b151561120357fe5b60325a03f1151561121057fe5b5050505b5b50565b60016020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690505b90565b604051610442806112d883390190565b8154818355818115116112ad578183600052602060002091820191016112ac91906112b2565b5b505050565b6112d491905b808211156112d05760008160009055506001016112b8565b5090565b90560060606040526000600255341561001157fe5b604051604080610442833981016040528080519060200190919080519060200190919050505b81600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b50505b610376806100cc6000396000f30060606040526000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806320965255146100675780635093dc7d1461008d5780637902e804146100ad5780637a24388a146100cd5780639a157fd1146100f3575bfe5b341561006f57fe5b610077610119565b6040518082815260200191505060405180910390f35b341561009557fe5b6100ab6004808035906020019091905050610264565b005b34156100b557fe5b6100cb60048080359060200190919050506102cc565b005b34156100d557fe5b6100dd610334565b6040518082815260200191505060405180910390f35b34156100fb57fe5b61010361033f565b6040518082815260200191505060405180910390f35b6000600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663c3f909d46000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401809050602060405180830381600087803b15156101a957fe5b60325a03f115156101b657fe5b5050506040518051905073ffffffffffffffffffffffffffffffffffffffff166329c1b39d600454600354436000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808481526020018381526020018281526020019350505050602060405180830381600087803b151561024757fe5b60325a03f1151561025457fe5b5050506040518051905090505b90565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156102c15760006000fd5b806004819055505b50565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103295760006000fd5b806003819055505b50565b600060025490505b90565b600060035490505b905600a165627a7a72305820adbd1730f623932621faccfd42865107177575d1711b2d0870875a4378084e5f0029a165627a7a7230582044c9a8b9b6bd5e5e841155aa6f3162e8dc9dc504b3799ef66aefc4d2ede50d530029606060405261012c60005561012c6001556101f4600255341561001e57fe5b5b6102878061002e6000396000f30060606040523615610076576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806314d2de881461007857806329c1b39d1461009e5780633b47a67f146100e45780633d96d46a146101045780635fc0c1e51461012457806386cd12701461014a575bfe5b341561008057fe5b61008861017e565b6040518082815260200191505060405180910390f35b34156100a657fe5b6100ce6004808035906020019091908035906020019091908035906020019091905050610189565b6040518082815260200191505060405180910390f35b34156100ec57fe5b6101026004808035906020019091905050610204565b005b341561010c57fe5b610122600480803590602001909190505061020f565b005b341561012c57fe5b61013461021a565b6040518082815260200191505060405180910390f35b341561015257fe5b6101686004808035906020019091905050610225565b6040518082815260200191505060405180910390f35b600060025490505b90565b6000600060005484840313156101a257600091506101fc565b600154600054038484031315156101bb578491506101fc565b6103e86001546000548686030301029050600154818115156101d957fe5b059050806103e80390506103e88582028115156101f257fe5b0591506101fc565b5b5b509392505050565b806000819055505b50565b806002819055505b50565b600060005490505b90565b60006002548212151561023c576000549050610256565b60025460005481151561024b57fe5b0582029050610256565b5b9190505600a165627a7a723058201b2a9cdbfad5aacec05ab9cf78aba8bf0dc83278856abe4d11277e98f10237e00029',
     gas: gasLimit 
    }, function (e, contract){
    if (typeof contract.address !== 'undefined') {
        result.innerHTML = 'Community Deployed at ' + contract.address
        link.style.display = 'block'
        link.setAttribute('href', 'walletCreation.html?community=' + contract.address)
    } else {
        result.innerHTML += JSON.stringify(error)
        result.innerHTML += JSON.stringify(contract)
    }
 })   
}
</script>

<div>Community Creation:</div>
<div id='communityCreation'>
    <button id="deploycommunitybtn" onclick="deployCommunity()">Deploy Community</button>
</div>
<div id="result"></div>
<a href="" id="link" >Wallet Creation</a>
</div>